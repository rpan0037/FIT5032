{"version":3,"file":"index.mjs","sources":["../../src/inputnumber/BaseInputNumber.vue","../../src/inputnumber/InputNumber.vue","../../src/inputnumber/InputNumber.vue?vue&type=template&id=9cda265a&lang.js"],"sourcesContent":["<script>\nimport BaseInput from '@primevue/core/baseinput';\nimport InputNumberStyle from 'primevue/inputnumber/style';\n\nexport default {\n    name: 'BaseInputNumber',\n    extends: BaseInput,\n    props: {\n        format: {\n            type: Boolean,\n            default: true\n        },\n        showButtons: {\n            type: Boolean,\n            default: false\n        },\n        buttonLayout: {\n            type: String,\n            default: 'stacked'\n        },\n        incrementButtonClass: {\n            type: String,\n            default: null\n        },\n        decrementButtonClass: {\n            type: String,\n            default: null\n        },\n        incrementButtonIcon: {\n            type: String,\n            default: undefined\n        },\n        incrementIcon: {\n            type: String,\n            default: undefined\n        },\n        decrementButtonIcon: {\n            type: String,\n            default: undefined\n        },\n        decrementIcon: {\n            type: String,\n            default: undefined\n        },\n        locale: {\n            type: String,\n            default: undefined\n        },\n        localeMatcher: {\n            type: String,\n            default: undefined\n        },\n        mode: {\n            type: String,\n            default: 'decimal'\n        },\n        prefix: {\n            type: String,\n            default: null\n        },\n        suffix: {\n            type: String,\n            default: null\n        },\n        currency: {\n            type: String,\n            default: undefined\n        },\n        currencyDisplay: {\n            type: String,\n            default: undefined\n        },\n        useGrouping: {\n            type: Boolean,\n            default: true\n        },\n        minFractionDigits: {\n            type: Number,\n            default: undefined\n        },\n        maxFractionDigits: {\n            type: Number,\n            default: undefined\n        },\n        roundingMode: {\n            type: String,\n            default: 'halfExpand',\n            validator(value) {\n                return ['ceil', 'floor', 'expand', 'trunc', 'halfCeil', 'halfFloor', 'halfExpand', 'halfTrunc', 'halfEven'].includes(value);\n            }\n        },\n        min: {\n            type: Number,\n            default: null\n        },\n        max: {\n            type: Number,\n            default: null\n        },\n        step: {\n            type: Number,\n            default: 1\n        },\n        allowEmpty: {\n            type: Boolean,\n            default: true\n        },\n        highlightOnFocus: {\n            type: Boolean,\n            default: false\n        },\n        readonly: {\n            type: Boolean,\n            default: false\n        },\n        placeholder: {\n            type: String,\n            default: null\n        },\n        inputId: {\n            type: String,\n            default: null\n        },\n        inputClass: {\n            type: [String, Object],\n            default: null\n        },\n        inputStyle: {\n            type: Object,\n            default: null\n        },\n        ariaLabelledby: {\n            type: String,\n            default: null\n        },\n        ariaLabel: {\n            type: String,\n            default: null\n        },\n        required: {\n            type: Boolean,\n            default: false\n        }\n    },\n    style: InputNumberStyle,\n    provide() {\n        return {\n            $pcInputNumber: this,\n            $parentInstance: this\n        };\n    }\n};\n</script>\n","<template>\n    <span :class=\"cx('root')\" v-bind=\"ptmi('root')\" :data-p=\"dataP\">\n        <InputText\n            ref=\"input\"\n            :id=\"inputId\"\n            :name=\"$formName\"\n            role=\"spinbutton\"\n            :class=\"[cx('pcInputText'), inputClass]\"\n            :style=\"inputStyle\"\n            :defaultValue=\"formattedValue\"\n            :aria-valuemin=\"min\"\n            :aria-valuemax=\"max\"\n            :aria-valuenow=\"d_value\"\n            :inputmode=\"mode === 'decimal' && !minFractionDigits ? 'numeric' : 'decimal'\"\n            :disabled=\"disabled\"\n            :readonly=\"readonly\"\n            :placeholder=\"placeholder\"\n            :aria-labelledby=\"ariaLabelledby\"\n            :aria-label=\"ariaLabel\"\n            :required=\"required\"\n            :size=\"size\"\n            :invalid=\"invalid\"\n            :variant=\"variant\"\n            @input=\"onUserInput\"\n            @keydown=\"onInputKeyDown\"\n            @keypress=\"onInputKeyPress\"\n            @paste=\"onPaste\"\n            @click=\"onInputClick\"\n            @focus=\"onInputFocus\"\n            @blur=\"onInputBlur\"\n            :pt=\"ptm('pcInputText')\"\n            :unstyled=\"unstyled\"\n            :data-p=\"dataP\"\n        />\n        <span v-if=\"showButtons && buttonLayout === 'stacked'\" :class=\"cx('buttonGroup')\" v-bind=\"ptm('buttonGroup')\" :data-p=\"dataP\">\n            <slot name=\"incrementbutton\" :listeners=\"upButtonListeners\">\n                <button :class=\"[cx('incrementButton'), incrementButtonClass]\" v-on=\"upButtonListeners\" :disabled=\"disabled\" :tabindex=\"-1\" aria-hidden=\"true\" type=\"button\" v-bind=\"ptm('incrementButton')\" :data-p=\"dataP\">\n                    <slot :name=\"$slots.incrementicon ? 'incrementicon' : 'incrementbuttonicon'\">\n                        <component :is=\"incrementIcon || incrementButtonIcon ? 'span' : 'AngleUpIcon'\" :class=\"[incrementIcon, incrementButtonIcon]\" v-bind=\"ptm('incrementIcon')\" data-pc-section=\"incrementicon\" />\n                    </slot>\n                </button>\n            </slot>\n            <slot name=\"decrementbutton\" :listeners=\"downButtonListeners\">\n                <button :class=\"[cx('decrementButton'), decrementButtonClass]\" v-on=\"downButtonListeners\" :disabled=\"disabled\" :tabindex=\"-1\" aria-hidden=\"true\" type=\"button\" v-bind=\"ptm('decrementButton')\" :data-p=\"dataP\">\n                    <slot :name=\"$slots.decrementicon ? 'decrementicon' : 'decrementbuttonicon'\">\n                        <component :is=\"decrementIcon || decrementButtonIcon ? 'span' : 'AngleDownIcon'\" :class=\"[decrementIcon, decrementButtonIcon]\" v-bind=\"ptm('decrementIcon')\" data-pc-section=\"decrementicon\" />\n                    </slot>\n                </button>\n            </slot>\n        </span>\n        <slot name=\"incrementbutton\" :listeners=\"upButtonListeners\">\n            <button\n                v-if=\"showButtons && buttonLayout !== 'stacked'\"\n                :class=\"[cx('incrementButton'), incrementButtonClass]\"\n                v-on=\"upButtonListeners\"\n                :disabled=\"disabled\"\n                :tabindex=\"-1\"\n                aria-hidden=\"true\"\n                type=\"button\"\n                v-bind=\"ptm('incrementButton')\"\n                :data-p=\"dataP\"\n            >\n                <slot :name=\"$slots.incrementicon ? 'incrementicon' : 'incrementbuttonicon'\">\n                    <component :is=\"incrementIcon || incrementButtonIcon ? 'span' : 'AngleUpIcon'\" :class=\"[incrementIcon, incrementButtonIcon]\" v-bind=\"ptm('incrementIcon')\" data-pc-section=\"incrementicon\" />\n                </slot>\n            </button>\n        </slot>\n        <slot name=\"decrementbutton\" :listeners=\"downButtonListeners\">\n            <button\n                v-if=\"showButtons && buttonLayout !== 'stacked'\"\n                :class=\"[cx('decrementButton'), decrementButtonClass]\"\n                v-on=\"downButtonListeners\"\n                :disabled=\"disabled\"\n                :tabindex=\"-1\"\n                aria-hidden=\"true\"\n                type=\"button\"\n                v-bind=\"ptm('decrementButton')\"\n                :data-p=\"dataP\"\n            >\n                <slot :name=\"$slots.decrementicon ? 'decrementicon' : 'decrementbuttonicon'\">\n                    <component :is=\"decrementIcon || decrementButtonIcon ? 'span' : 'AngleDownIcon'\" :class=\"[decrementIcon, decrementButtonIcon]\" v-bind=\"ptm('decrementIcon')\" data-pc-section=\"decrementicon\" />\n                </slot>\n            </button>\n        </slot>\n        <!-- TODO: decrementButton* and incrementButton* are deprecated since v4.0-->\n    </span>\n</template>\n\n<script>\nimport { cn } from '@primeuix/utils';\nimport { clearSelection, getSelection } from '@primeuix/utils/dom';\nimport { isNotEmpty } from '@primeuix/utils/object';\nimport AngleDownIcon from '@primevue/icons/angledown';\nimport AngleUpIcon from '@primevue/icons/angleup';\nimport InputText from 'primevue/inputtext';\nimport BaseInputNumber from './BaseInputNumber.vue';\n\nexport default {\n    name: 'InputNumber',\n    extends: BaseInputNumber,\n    inheritAttrs: false,\n    emits: ['input', 'focus', 'blur'],\n    inject: {\n        $pcFluid: { default: null }\n    },\n    numberFormat: null,\n    _numeral: null,\n    _decimal: null,\n    _group: null,\n    _minusSign: null,\n    _currency: null,\n    _suffix: null,\n    _prefix: null,\n    _index: null,\n    groupChar: '',\n    isSpecialChar: null,\n    prefixChar: null,\n    suffixChar: null,\n    timer: null,\n    data() {\n        return {\n            // @deprecated\n            d_modelValue: this.d_value,\n            focused: false\n        };\n    },\n    watch: {\n        d_value(newValue) {\n            // @deprecated since v4.2.0\n            this.d_modelValue = newValue;\n        },\n        locale(newValue, oldValue) {\n            this.updateConstructParser(newValue, oldValue);\n        },\n        localeMatcher(newValue, oldValue) {\n            this.updateConstructParser(newValue, oldValue);\n        },\n        mode(newValue, oldValue) {\n            this.updateConstructParser(newValue, oldValue);\n        },\n        currency(newValue, oldValue) {\n            this.updateConstructParser(newValue, oldValue);\n        },\n        currencyDisplay(newValue, oldValue) {\n            this.updateConstructParser(newValue, oldValue);\n        },\n        useGrouping(newValue, oldValue) {\n            this.updateConstructParser(newValue, oldValue);\n        },\n        minFractionDigits(newValue, oldValue) {\n            this.updateConstructParser(newValue, oldValue);\n        },\n        maxFractionDigits(newValue, oldValue) {\n            this.updateConstructParser(newValue, oldValue);\n        },\n        suffix(newValue, oldValue) {\n            this.updateConstructParser(newValue, oldValue);\n        },\n        prefix(newValue, oldValue) {\n            this.updateConstructParser(newValue, oldValue);\n        }\n    },\n    created() {\n        this.constructParser();\n    },\n    methods: {\n        getOptions() {\n            return {\n                localeMatcher: this.localeMatcher,\n                style: this.mode,\n                currency: this.currency,\n                currencyDisplay: this.currencyDisplay,\n                useGrouping: this.useGrouping,\n                minimumFractionDigits: this.minFractionDigits,\n                maximumFractionDigits: this.maxFractionDigits,\n                roundingMode: this.roundingMode\n            };\n        },\n        constructParser() {\n            this.numberFormat = new Intl.NumberFormat(this.locale, this.getOptions());\n            const numerals = [...new Intl.NumberFormat(this.locale, { useGrouping: false }).format(9876543210)].reverse();\n            const index = new Map(numerals.map((d, i) => [d, i]));\n\n            this._numeral = new RegExp(`[${numerals.join('')}]`, 'g');\n            this._group = this.getGroupingExpression();\n            this._minusSign = this.getMinusSignExpression();\n            this._currency = this.getCurrencyExpression();\n            this._decimal = this.getDecimalExpression();\n            this._suffix = this.getSuffixExpression();\n            this._prefix = this.getPrefixExpression();\n            this._index = (d) => index.get(d);\n        },\n        updateConstructParser(newValue, oldValue) {\n            if (newValue !== oldValue) {\n                this.constructParser();\n            }\n        },\n        escapeRegExp(text) {\n            return text.replace(/[-[\\]{}()*+?.,\\\\^$|#\\s]/g, '\\\\$&');\n        },\n        getDecimalExpression() {\n            const formatter = new Intl.NumberFormat(this.locale, { ...this.getOptions(), useGrouping: false });\n\n            return new RegExp(`[${formatter.format(1.1).replace(this._currency, '').trim().replace(this._numeral, '')}]`, 'g');\n        },\n        getGroupingExpression() {\n            const formatter = new Intl.NumberFormat(this.locale, { useGrouping: true });\n\n            this.groupChar = formatter.format(1000000).trim().replace(this._numeral, '').charAt(0);\n\n            return new RegExp(`[${this.groupChar}]`, 'g');\n        },\n        getMinusSignExpression() {\n            const formatter = new Intl.NumberFormat(this.locale, { useGrouping: false });\n\n            return new RegExp(`[${formatter.format(-1).trim().replace(this._numeral, '')}]`, 'g');\n        },\n        getCurrencyExpression() {\n            if (this.currency) {\n                const formatter = new Intl.NumberFormat(this.locale, { style: 'currency', currency: this.currency, currencyDisplay: this.currencyDisplay, minimumFractionDigits: 0, maximumFractionDigits: 0, roundingMode: this.roundingMode });\n\n                return new RegExp(`[${formatter.format(1).replace(/\\s/g, '').replace(this._numeral, '').replace(this._group, '')}]`, 'g');\n            }\n\n            return new RegExp(`[]`, 'g');\n        },\n        getPrefixExpression() {\n            if (this.prefix) {\n                this.prefixChar = this.prefix;\n            } else {\n                const formatter = new Intl.NumberFormat(this.locale, { style: this.mode, currency: this.currency, currencyDisplay: this.currencyDisplay });\n\n                this.prefixChar = formatter.format(1).split('1')[0];\n            }\n\n            return new RegExp(`${this.escapeRegExp(this.prefixChar || '')}`, 'g');\n        },\n        getSuffixExpression() {\n            if (this.suffix) {\n                this.suffixChar = this.suffix;\n            } else {\n                const formatter = new Intl.NumberFormat(this.locale, { style: this.mode, currency: this.currency, currencyDisplay: this.currencyDisplay, minimumFractionDigits: 0, maximumFractionDigits: 0, roundingMode: this.roundingMode });\n\n                this.suffixChar = formatter.format(1).split('1')[1];\n            }\n\n            return new RegExp(`${this.escapeRegExp(this.suffixChar || '')}`, 'g');\n        },\n        formatValue(value) {\n            if (value != null) {\n                if (value === '-') {\n                    // Minus sign\n                    return value;\n                }\n\n                if (this.format) {\n                    let formatter = new Intl.NumberFormat(this.locale, this.getOptions());\n                    let formattedValue = formatter.format(value);\n\n                    if (this.prefix) {\n                        formattedValue = this.prefix + formattedValue;\n                    }\n\n                    if (this.suffix) {\n                        formattedValue = formattedValue + this.suffix;\n                    }\n\n                    return formattedValue;\n                }\n\n                return value.toString();\n            }\n\n            return '';\n        },\n        parseValue(text) {\n            let filteredText = text\n                .replace(this._suffix, '')\n                .replace(this._prefix, '')\n                .trim()\n                .replace(/\\s/g, '')\n                .replace(this._currency, '')\n                .replace(this._group, '')\n                .replace(this._minusSign, '-')\n                .replace(this._decimal, '.')\n                .replace(this._numeral, this._index);\n\n            if (filteredText) {\n                if (filteredText === '-')\n                    // Minus sign\n                    return filteredText;\n\n                let parsedValue = +filteredText;\n\n                return isNaN(parsedValue) ? null : parsedValue;\n            }\n\n            return null;\n        },\n        repeat(event, interval, dir) {\n            if (this.readonly) {\n                return;\n            }\n\n            let i = interval || 500;\n\n            this.clearTimer();\n            this.timer = setTimeout(() => {\n                this.repeat(event, 40, dir);\n            }, i);\n\n            this.spin(event, dir);\n        },\n        addWithPrecision(base, increment, precision = 10) {\n            return Math.round((base + increment) * precision) / precision;\n        },\n        spin(event, dir) {\n            if (this.$refs.input) {\n                let step = this.step * dir;\n                let currentValue = this.parseValue(this.$refs.input.$el.value) || 0;\n                let newValue = this.validateValue(this.addWithPrecision(currentValue, step));\n\n                this.updateInput(newValue, null, 'spin');\n                this.updateModel(event, newValue);\n\n                this.handleOnInput(event, currentValue, newValue);\n            }\n        },\n        onUpButtonMouseDown(event) {\n            if (!this.disabled) {\n                this.$refs.input.$el.focus();\n                this.repeat(event, null, 1);\n                event.preventDefault();\n            }\n        },\n        onUpButtonMouseUp() {\n            if (!this.disabled) {\n                this.clearTimer();\n            }\n        },\n        onUpButtonMouseLeave() {\n            if (!this.disabled) {\n                this.clearTimer();\n            }\n        },\n        onUpButtonKeyUp() {\n            if (!this.disabled) {\n                this.clearTimer();\n            }\n        },\n        onUpButtonKeyDown(event) {\n            if (event.code === 'Space' || event.code === 'Enter' || event.code === 'NumpadEnter') {\n                this.repeat(event, null, 1);\n            }\n        },\n        onDownButtonMouseDown(event) {\n            if (!this.disabled) {\n                this.$refs.input.$el.focus();\n                this.repeat(event, null, -1);\n                event.preventDefault();\n            }\n        },\n        onDownButtonMouseUp() {\n            if (!this.disabled) {\n                this.clearTimer();\n            }\n        },\n        onDownButtonMouseLeave() {\n            if (!this.disabled) {\n                this.clearTimer();\n            }\n        },\n        onDownButtonKeyUp() {\n            if (!this.disabled) {\n                this.clearTimer();\n            }\n        },\n        onDownButtonKeyDown(event) {\n            if (event.code === 'Space' || event.code === 'Enter' || event.code === 'NumpadEnter') {\n                this.repeat(event, null, -1);\n            }\n        },\n        onUserInput() {\n            if (this.isSpecialChar) {\n                this.$refs.input.$el.value = this.lastValue;\n            }\n\n            this.isSpecialChar = false;\n        },\n        onInputKeyDown(event) {\n            if (this.readonly) {\n                return;\n            }\n\n            if (event.altKey || event.ctrlKey || event.metaKey) {\n                this.isSpecialChar = true;\n                this.lastValue = this.$refs.input.$el.value;\n\n                return;\n            }\n\n            this.lastValue = event.target.value;\n\n            let selectionStart = event.target.selectionStart;\n            let selectionEnd = event.target.selectionEnd;\n            let selectionRange = selectionEnd - selectionStart;\n            let inputValue = event.target.value;\n            let newValueStr = null;\n            const code = event.code || event.key;\n\n            switch (code) {\n                case 'ArrowUp':\n                    this.spin(event, 1);\n                    event.preventDefault();\n                    break;\n\n                case 'ArrowDown':\n                    this.spin(event, -1);\n                    event.preventDefault();\n                    break;\n\n                case 'ArrowLeft':\n                    if (selectionRange > 1) {\n                        const cursorPosition = this.isNumeralChar(inputValue.charAt(selectionStart)) ? selectionStart + 1 : selectionStart + 2;\n\n                        this.$refs.input.$el.setSelectionRange(cursorPosition, cursorPosition);\n                    } else if (!this.isNumeralChar(inputValue.charAt(selectionStart - 1))) {\n                        event.preventDefault();\n                    }\n\n                    break;\n\n                case 'ArrowRight':\n                    if (selectionRange > 1) {\n                        const cursorPosition = selectionEnd - 1;\n\n                        this.$refs.input.$el.setSelectionRange(cursorPosition, cursorPosition);\n                    } else if (!this.isNumeralChar(inputValue.charAt(selectionStart))) {\n                        event.preventDefault();\n                    }\n\n                    break;\n\n                case 'Tab':\n                case 'Enter':\n                case 'NumpadEnter':\n                    newValueStr = this.validateValue(this.parseValue(inputValue));\n                    this.$refs.input.$el.value = this.formatValue(newValueStr);\n                    this.$refs.input.$el.setAttribute('aria-valuenow', newValueStr);\n                    this.updateModel(event, newValueStr);\n                    break;\n\n                case 'Backspace': {\n                    event.preventDefault();\n\n                    if (selectionStart === selectionEnd) {\n                        if (selectionStart >= inputValue.length && this.suffixChar !== null) {\n                            selectionStart = inputValue.length - this.suffixChar.length;\n                            this.$refs.input.$el.setSelectionRange(selectionStart, selectionStart);\n                        }\n\n                        const deleteChar = inputValue.charAt(selectionStart - 1);\n                        const { decimalCharIndex, decimalCharIndexWithoutPrefix } = this.getDecimalCharIndexes(inputValue);\n\n                        if (this.isNumeralChar(deleteChar)) {\n                            const decimalLength = this.getDecimalLength(inputValue);\n\n                            if (this._group.test(deleteChar)) {\n                                this._group.lastIndex = 0;\n                                newValueStr = inputValue.slice(0, selectionStart - 2) + inputValue.slice(selectionStart - 1);\n                            } else if (this._decimal.test(deleteChar)) {\n                                this._decimal.lastIndex = 0;\n\n                                if (decimalLength) {\n                                    this.$refs.input.$el.setSelectionRange(selectionStart - 1, selectionStart - 1);\n                                } else {\n                                    newValueStr = inputValue.slice(0, selectionStart - 1) + inputValue.slice(selectionStart);\n                                }\n                            } else if (decimalCharIndex > 0 && selectionStart > decimalCharIndex) {\n                                const insertedText = this.isDecimalMode() && (this.minFractionDigits || 0) < decimalLength ? '' : '0';\n\n                                newValueStr = inputValue.slice(0, selectionStart - 1) + insertedText + inputValue.slice(selectionStart);\n                            } else if (decimalCharIndexWithoutPrefix === 1) {\n                                newValueStr = inputValue.slice(0, selectionStart - 1) + '0' + inputValue.slice(selectionStart);\n                                newValueStr = this.parseValue(newValueStr) > 0 ? newValueStr : '';\n                            } else {\n                                newValueStr = inputValue.slice(0, selectionStart - 1) + inputValue.slice(selectionStart);\n                            }\n                        }\n\n                        this.updateValue(event, newValueStr, null, 'delete-single');\n                    } else {\n                        newValueStr = this.deleteRange(inputValue, selectionStart, selectionEnd);\n                        this.updateValue(event, newValueStr, null, 'delete-range');\n                    }\n\n                    break;\n                }\n\n                case 'Delete':\n                    event.preventDefault();\n\n                    if (selectionStart === selectionEnd) {\n                        const deleteChar = inputValue.charAt(selectionStart);\n                        const { decimalCharIndex, decimalCharIndexWithoutPrefix } = this.getDecimalCharIndexes(inputValue);\n\n                        if (this.isNumeralChar(deleteChar)) {\n                            const decimalLength = this.getDecimalLength(inputValue);\n\n                            if (this._group.test(deleteChar)) {\n                                this._group.lastIndex = 0;\n                                newValueStr = inputValue.slice(0, selectionStart) + inputValue.slice(selectionStart + 2);\n                            } else if (this._decimal.test(deleteChar)) {\n                                this._decimal.lastIndex = 0;\n\n                                if (decimalLength) {\n                                    this.$refs.input.$el.setSelectionRange(selectionStart + 1, selectionStart + 1);\n                                } else {\n                                    newValueStr = inputValue.slice(0, selectionStart) + inputValue.slice(selectionStart + 1);\n                                }\n                            } else if (decimalCharIndex > 0 && selectionStart > decimalCharIndex) {\n                                const insertedText = this.isDecimalMode() && (this.minFractionDigits || 0) < decimalLength ? '' : '0';\n\n                                newValueStr = inputValue.slice(0, selectionStart) + insertedText + inputValue.slice(selectionStart + 1);\n                            } else if (decimalCharIndexWithoutPrefix === 1) {\n                                newValueStr = inputValue.slice(0, selectionStart) + '0' + inputValue.slice(selectionStart + 1);\n                                newValueStr = this.parseValue(newValueStr) > 0 ? newValueStr : '';\n                            } else {\n                                newValueStr = inputValue.slice(0, selectionStart) + inputValue.slice(selectionStart + 1);\n                            }\n                        }\n\n                        this.updateValue(event, newValueStr, null, 'delete-back-single');\n                    } else {\n                        newValueStr = this.deleteRange(inputValue, selectionStart, selectionEnd);\n                        this.updateValue(event, newValueStr, null, 'delete-range');\n                    }\n\n                    break;\n\n                case 'Home':\n                    event.preventDefault();\n\n                    if (isNotEmpty(this.min)) {\n                        this.updateModel(event, this.min);\n                    }\n\n                    break;\n\n                case 'End':\n                    event.preventDefault();\n\n                    if (isNotEmpty(this.max)) {\n                        this.updateModel(event, this.max);\n                    }\n\n                    break;\n\n                default:\n                    break;\n            }\n        },\n        onInputKeyPress(event) {\n            if (this.readonly) {\n                return;\n            }\n\n            let char = event.key;\n            let isDecimalSign = this.isDecimalSign(char);\n            const isMinusSign = this.isMinusSign(char);\n\n            if (event.code !== 'Enter') {\n                event.preventDefault();\n            }\n\n            if ((Number(char) >= 0 && Number(char) <= 9) || isMinusSign || isDecimalSign) {\n                this.insert(event, char, { isDecimalSign, isMinusSign });\n            }\n        },\n        onPaste(event) {\n            if (this.readonly) {\n                return;\n            }\n            \n            event.preventDefault();\n            let data = (event.clipboardData || window['clipboardData']).getData('Text');\n\n            if (data) {\n                let filteredData = this.parseValue(data);\n\n                if (filteredData != null) {\n                    this.insert(event, filteredData.toString());\n                }\n            }\n        },\n        allowMinusSign() {\n            return this.min === null || this.min < 0;\n        },\n        isMinusSign(char) {\n            if (this._minusSign.test(char) || char === '-') {\n                this._minusSign.lastIndex = 0;\n\n                return true;\n            }\n\n            return false;\n        },\n        isDecimalSign(char) {\n            if ((this.locale?.includes('fr') && ['.', ','].includes(char)) || this._decimal.test(char)) {\n                this._decimal.lastIndex = 0;\n\n                return true;\n            }\n\n            return false;\n        },\n        isDecimalMode() {\n            return this.mode === 'decimal';\n        },\n        getDecimalCharIndexes(val) {\n            let decimalCharIndex = val.search(this._decimal);\n\n            this._decimal.lastIndex = 0;\n\n            const filteredVal = val.replace(this._prefix, '').trim().replace(/\\s/g, '').replace(this._currency, '');\n            const decimalCharIndexWithoutPrefix = filteredVal.search(this._decimal);\n\n            this._decimal.lastIndex = 0;\n\n            return { decimalCharIndex, decimalCharIndexWithoutPrefix };\n        },\n        getCharIndexes(val) {\n            const decimalCharIndex = val.search(this._decimal);\n\n            this._decimal.lastIndex = 0;\n            const minusCharIndex = val.search(this._minusSign);\n\n            this._minusSign.lastIndex = 0;\n            const suffixCharIndex = val.search(this._suffix);\n\n            this._suffix.lastIndex = 0;\n            const currencyCharIndex = val.search(this._currency);\n\n            this._currency.lastIndex = 0;\n\n            return { decimalCharIndex, minusCharIndex, suffixCharIndex, currencyCharIndex };\n        },\n        insert(event, text, sign = { isDecimalSign: false, isMinusSign: false }) {\n            const minusCharIndexOnText = text.search(this._minusSign);\n\n            this._minusSign.lastIndex = 0;\n\n            if (!this.allowMinusSign() && minusCharIndexOnText !== -1) {\n                return;\n            }\n\n            const selectionStart = this.$refs.input.$el.selectionStart;\n            const selectionEnd = this.$refs.input.$el.selectionEnd;\n            let inputValue = this.$refs.input.$el.value.trim();\n            const { decimalCharIndex, minusCharIndex, suffixCharIndex, currencyCharIndex } = this.getCharIndexes(inputValue);\n            let newValueStr;\n\n            if (sign.isMinusSign) {\n                const isNewMinusSign = minusCharIndex === -1;\n\n                if (selectionStart === 0 || selectionStart === currencyCharIndex + 1) {\n                    newValueStr = inputValue;\n\n                    if (isNewMinusSign || selectionEnd !== 0) {\n                        newValueStr = this.insertText(inputValue, text, 0, selectionEnd);\n                    }\n\n                    this.updateValue(event, newValueStr, text, 'insert');\n                }\n            } else if (sign.isDecimalSign) {\n                if (decimalCharIndex > 0 && selectionStart === decimalCharIndex) {\n                    this.updateValue(event, inputValue, text, 'insert');\n                } else if (decimalCharIndex > selectionStart && decimalCharIndex < selectionEnd) {\n                    newValueStr = this.insertText(inputValue, text, selectionStart, selectionEnd);\n                    this.updateValue(event, newValueStr, text, 'insert');\n                } else if (decimalCharIndex === -1 && this.maxFractionDigits) {\n                    newValueStr = this.insertText(inputValue, text, selectionStart, selectionEnd);\n                    this.updateValue(event, newValueStr, text, 'insert');\n                }\n            } else {\n                const maxFractionDigits = this.numberFormat.resolvedOptions().maximumFractionDigits;\n                const operation = selectionStart !== selectionEnd ? 'range-insert' : 'insert';\n\n                if (decimalCharIndex > 0 && selectionStart > decimalCharIndex) {\n                    if (selectionStart + text.length - (decimalCharIndex + 1) <= maxFractionDigits) {\n                        const charIndex = currencyCharIndex >= selectionStart ? currencyCharIndex - 1 : suffixCharIndex >= selectionStart ? suffixCharIndex : inputValue.length;\n\n                        newValueStr = inputValue.slice(0, selectionStart) + text + inputValue.slice(selectionStart + text.length, charIndex) + inputValue.slice(charIndex);\n                        this.updateValue(event, newValueStr, text, operation);\n                    }\n                } else {\n                    newValueStr = this.insertText(inputValue, text, selectionStart, selectionEnd);\n                    this.updateValue(event, newValueStr, text, operation);\n                }\n            }\n        },\n        insertText(value, text, start, end) {\n            let textSplit = text === '.' ? text : text.split('.');\n\n            if (textSplit.length === 2) {\n                const decimalCharIndex = value.slice(start, end).search(this._decimal);\n\n                this._decimal.lastIndex = 0;\n\n                return decimalCharIndex > 0 ? value.slice(0, start) + this.formatValue(text) + value.slice(end) : this.formatValue(text) || value;\n            } else if (end - start === value.length) {\n                return this.formatValue(text);\n            } else if (start === 0) {\n                return text + value.slice(end);\n            } else if (end === value.length) {\n                return value.slice(0, start) + text;\n            } else {\n                return value.slice(0, start) + text + value.slice(end);\n            }\n        },\n        deleteRange(value, start, end) {\n            let newValueStr;\n\n            if (end - start === value.length) newValueStr = '';\n            else if (start === 0) newValueStr = value.slice(end);\n            else if (end === value.length) newValueStr = value.slice(0, start);\n            else newValueStr = value.slice(0, start) + value.slice(end);\n\n            return newValueStr;\n        },\n        initCursor() {\n            let selectionStart = this.$refs.input.$el.selectionStart;\n            let inputValue = this.$refs.input.$el.value;\n            let valueLength = inputValue.length;\n            let index = null;\n\n            // remove prefix\n            let prefixLength = (this.prefixChar || '').length;\n\n            inputValue = inputValue.replace(this._prefix, '');\n            selectionStart = selectionStart - prefixLength;\n\n            let char = inputValue.charAt(selectionStart);\n\n            if (this.isNumeralChar(char)) {\n                return selectionStart + prefixLength;\n            }\n\n            //left\n            let i = selectionStart - 1;\n\n            while (i >= 0) {\n                char = inputValue.charAt(i);\n\n                if (this.isNumeralChar(char)) {\n                    index = i + prefixLength;\n                    break;\n                } else {\n                    i--;\n                }\n            }\n\n            if (index !== null) {\n                this.$refs.input.$el.setSelectionRange(index + 1, index + 1);\n            } else {\n                i = selectionStart;\n\n                while (i < valueLength) {\n                    char = inputValue.charAt(i);\n\n                    if (this.isNumeralChar(char)) {\n                        index = i + prefixLength;\n                        break;\n                    } else {\n                        i++;\n                    }\n                }\n\n                if (index !== null) {\n                    this.$refs.input.$el.setSelectionRange(index, index);\n                }\n            }\n\n            return index || 0;\n        },\n        onInputClick() {\n            const currentValue = this.$refs.input.$el.value;\n\n            if (!this.readonly && currentValue !== getSelection()) {\n                this.initCursor();\n            }\n        },\n        isNumeralChar(char) {\n            if (char.length === 1 && (this._numeral.test(char) || this._decimal.test(char) || this._group.test(char) || this._minusSign.test(char))) {\n                this.resetRegex();\n\n                return true;\n            }\n\n            return false;\n        },\n        resetRegex() {\n            this._numeral.lastIndex = 0;\n            this._decimal.lastIndex = 0;\n            this._group.lastIndex = 0;\n            this._minusSign.lastIndex = 0;\n        },\n        updateValue(event, valueStr, insertedValueStr, operation) {\n            let currentValue = this.$refs.input.$el.value;\n            let newValue = null;\n\n            if (valueStr != null) {\n                newValue = this.parseValue(valueStr);\n                newValue = !newValue && !this.allowEmpty ? 0 : newValue;\n                this.updateInput(newValue, insertedValueStr, operation, valueStr);\n\n                this.handleOnInput(event, currentValue, newValue);\n            }\n        },\n        handleOnInput(event, currentValue, newValue) {\n            if (this.isValueChanged(currentValue, newValue)) {\n                this.$emit('input', { originalEvent: event, value: newValue, formattedValue: currentValue });\n                this.formField.onInput?.({ originalEvent: event, value: newValue });\n            }\n        },\n        isValueChanged(currentValue, newValue) {\n            if (newValue === null && currentValue !== null) {\n                return true;\n            }\n\n            if (newValue != null) {\n                let parsedCurrentValue = typeof currentValue === 'string' ? this.parseValue(currentValue) : currentValue;\n\n                return newValue !== parsedCurrentValue;\n            }\n\n            return false;\n        },\n        validateValue(value) {\n            if (value === '-' || value == null) {\n                return null;\n            }\n\n            if (this.min != null && value < this.min) {\n                return this.min;\n            }\n\n            if (this.max != null && value > this.max) {\n                return this.max;\n            }\n\n            return value;\n        },\n        updateInput(value, insertedValueStr, operation, valueStr) {\n            insertedValueStr = insertedValueStr || '';\n\n            let inputValue = this.$refs.input.$el.value;\n            let newValue = this.formatValue(value);\n            let currentLength = inputValue.length;\n\n            if (newValue !== valueStr) {\n                newValue = this.concatValues(newValue, valueStr);\n            }\n\n            if (currentLength === 0) {\n                this.$refs.input.$el.value = newValue;\n                this.$refs.input.$el.setSelectionRange(0, 0);\n                const index = this.initCursor();\n                const selectionEnd = index + insertedValueStr.length;\n\n                this.$refs.input.$el.setSelectionRange(selectionEnd, selectionEnd);\n            } else {\n                let selectionStart = this.$refs.input.$el.selectionStart;\n                let selectionEnd = this.$refs.input.$el.selectionEnd;\n\n                this.$refs.input.$el.value = newValue;\n                let newLength = newValue.length;\n\n                if (operation === 'range-insert') {\n                    const startValue = this.parseValue((inputValue || '').slice(0, selectionStart));\n                    const startValueStr = startValue !== null ? startValue.toString() : '';\n                    const startExpr = startValueStr.split('').join(`(${this.groupChar})?`);\n                    const sRegex = new RegExp(startExpr, 'g');\n\n                    sRegex.test(newValue);\n\n                    const tExpr = insertedValueStr.split('').join(`(${this.groupChar})?`);\n                    const tRegex = new RegExp(tExpr, 'g');\n\n                    tRegex.test(newValue.slice(sRegex.lastIndex));\n\n                    selectionEnd = sRegex.lastIndex + tRegex.lastIndex;\n                    this.$refs.input.$el.setSelectionRange(selectionEnd, selectionEnd);\n                } else if (newLength === currentLength) {\n                    if (operation === 'insert' || operation === 'delete-back-single') {\n                        this.$refs.input.$el.setSelectionRange(selectionEnd + 1, selectionEnd + 1);\n                    } else if (operation === 'delete-single') {\n                        this.$refs.input.$el.setSelectionRange(selectionEnd - 1, selectionEnd - 1);\n                    } else if (operation === 'delete-range' || operation === 'spin') {\n                        this.$refs.input.$el.setSelectionRange(selectionEnd, selectionEnd);\n                    }\n                } else if (operation === 'delete-back-single') {\n                    let prevChar = inputValue.charAt(selectionEnd - 1);\n                    let nextChar = inputValue.charAt(selectionEnd);\n                    let diff = currentLength - newLength;\n                    let isGroupChar = this._group.test(nextChar);\n\n                    if (isGroupChar && diff === 1) {\n                        selectionEnd += 1;\n                    } else if (!isGroupChar && this.isNumeralChar(prevChar)) {\n                        selectionEnd += -1 * diff + 1;\n                    }\n\n                    this._group.lastIndex = 0;\n                    this.$refs.input.$el.setSelectionRange(selectionEnd, selectionEnd);\n                } else if (inputValue === '-' && operation === 'insert') {\n                    this.$refs.input.$el.setSelectionRange(0, 0);\n                    const index = this.initCursor();\n                    const selectionEnd = index + insertedValueStr.length + 1;\n\n                    this.$refs.input.$el.setSelectionRange(selectionEnd, selectionEnd);\n                } else {\n                    selectionEnd = selectionEnd + (newLength - currentLength);\n                    this.$refs.input.$el.setSelectionRange(selectionEnd, selectionEnd);\n                }\n            }\n\n            this.$refs.input.$el.setAttribute('aria-valuenow', value);\n        },\n        concatValues(val1, val2) {\n            if (val1 && val2) {\n                let decimalCharIndex = val2.search(this._decimal);\n\n                this._decimal.lastIndex = 0;\n\n                if (this.suffixChar) {\n                    return decimalCharIndex !== -1 ? val1.replace(this.suffixChar, '').split(this._decimal)[0] + val2.replace(this.suffixChar, '').slice(decimalCharIndex) + this.suffixChar : val1;\n                } else {\n                    return decimalCharIndex !== -1 ? val1.split(this._decimal)[0] + val2.slice(decimalCharIndex) : val1;\n                }\n            }\n\n            return val1;\n        },\n        getDecimalLength(value) {\n            if (value) {\n                const valueSplit = value.split(this._decimal);\n\n                if (valueSplit.length === 2) {\n                    return valueSplit[1].replace(this._suffix, '').trim().replace(/\\s/g, '').replace(this._currency, '').length;\n                }\n            }\n\n            return 0;\n        },\n        updateModel(event, value) {\n            this.writeValue(value, event);\n        },\n        onInputFocus(event) {\n            this.focused = true;\n\n            if (!this.disabled && !this.readonly && this.$refs.input.$el.value !== getSelection() && this.highlightOnFocus) {\n                event.target.select();\n            }\n\n            this.$emit('focus', event);\n        },\n        onInputBlur(event) {\n            this.focused = false;\n\n            let input = event.target;\n            let newValue = this.validateValue(this.parseValue(input.value));\n\n            this.$emit('blur', { originalEvent: event, value: input.value });\n            this.formField.onBlur?.(event);\n\n            input.value = this.formatValue(newValue);\n            input.setAttribute('aria-valuenow', newValue);\n            this.updateModel(event, newValue);\n\n            if (!this.disabled && !this.readonly && this.highlightOnFocus) {\n                clearSelection();\n            }\n        },\n        clearTimer() {\n            if (this.timer) {\n                clearTimeout(this.timer);\n            }\n        },\n        maxBoundry() {\n            return this.d_value >= this.max;\n        },\n        minBoundry() {\n            return this.d_value <= this.min;\n        }\n    },\n    computed: {\n        upButtonListeners() {\n            return {\n                mousedown: (event) => this.onUpButtonMouseDown(event),\n                mouseup: (event) => this.onUpButtonMouseUp(event),\n                mouseleave: (event) => this.onUpButtonMouseLeave(event),\n                keydown: (event) => this.onUpButtonKeyDown(event),\n                keyup: (event) => this.onUpButtonKeyUp(event)\n            };\n        },\n        downButtonListeners() {\n            return {\n                mousedown: (event) => this.onDownButtonMouseDown(event),\n                mouseup: (event) => this.onDownButtonMouseUp(event),\n                mouseleave: (event) => this.onDownButtonMouseLeave(event),\n                keydown: (event) => this.onDownButtonKeyDown(event),\n                keyup: (event) => this.onDownButtonKeyUp(event)\n            };\n        },\n        formattedValue() {\n            const val = !this.d_value && !this.allowEmpty ? 0 : this.d_value;\n\n            return this.formatValue(val);\n        },\n        getFormatter() {\n            return this.numberFormat;\n        },\n        dataP() {\n            return cn({\n                invalid: this.$invalid,\n                fluid: this.$fluid,\n                filled: this.$variant === 'filled',\n                [this.size]: this.size,\n                [this.buttonLayout]: this.showButtons && this.buttonLayout\n            });\n        }\n    },\n    components: {\n        InputText,\n        AngleUpIcon,\n        AngleDownIcon\n    }\n};\n</script>\n","<template>\n    <span :class=\"cx('root')\" v-bind=\"ptmi('root')\" :data-p=\"dataP\">\n        <InputText\n            ref=\"input\"\n            :id=\"inputId\"\n            :name=\"$formName\"\n            role=\"spinbutton\"\n            :class=\"[cx('pcInputText'), inputClass]\"\n            :style=\"inputStyle\"\n            :defaultValue=\"formattedValue\"\n            :aria-valuemin=\"min\"\n            :aria-valuemax=\"max\"\n            :aria-valuenow=\"d_value\"\n            :inputmode=\"mode === 'decimal' && !minFractionDigits ? 'numeric' : 'decimal'\"\n            :disabled=\"disabled\"\n            :readonly=\"readonly\"\n            :placeholder=\"placeholder\"\n            :aria-labelledby=\"ariaLabelledby\"\n            :aria-label=\"ariaLabel\"\n            :required=\"required\"\n            :size=\"size\"\n            :invalid=\"invalid\"\n            :variant=\"variant\"\n            @input=\"onUserInput\"\n            @keydown=\"onInputKeyDown\"\n            @keypress=\"onInputKeyPress\"\n            @paste=\"onPaste\"\n            @click=\"onInputClick\"\n            @focus=\"onInputFocus\"\n            @blur=\"onInputBlur\"\n            :pt=\"ptm('pcInputText')\"\n            :unstyled=\"unstyled\"\n            :data-p=\"dataP\"\n        />\n        <span v-if=\"showButtons && buttonLayout === 'stacked'\" :class=\"cx('buttonGroup')\" v-bind=\"ptm('buttonGroup')\" :data-p=\"dataP\">\n            <slot name=\"incrementbutton\" :listeners=\"upButtonListeners\">\n                <button :class=\"[cx('incrementButton'), incrementButtonClass]\" v-on=\"upButtonListeners\" :disabled=\"disabled\" :tabindex=\"-1\" aria-hidden=\"true\" type=\"button\" v-bind=\"ptm('incrementButton')\" :data-p=\"dataP\">\n                    <slot :name=\"$slots.incrementicon ? 'incrementicon' : 'incrementbuttonicon'\">\n                        <component :is=\"incrementIcon || incrementButtonIcon ? 'span' : 'AngleUpIcon'\" :class=\"[incrementIcon, incrementButtonIcon]\" v-bind=\"ptm('incrementIcon')\" data-pc-section=\"incrementicon\" />\n                    </slot>\n                </button>\n            </slot>\n            <slot name=\"decrementbutton\" :listeners=\"downButtonListeners\">\n                <button :class=\"[cx('decrementButton'), decrementButtonClass]\" v-on=\"downButtonListeners\" :disabled=\"disabled\" :tabindex=\"-1\" aria-hidden=\"true\" type=\"button\" v-bind=\"ptm('decrementButton')\" :data-p=\"dataP\">\n                    <slot :name=\"$slots.decrementicon ? 'decrementicon' : 'decrementbuttonicon'\">\n                        <component :is=\"decrementIcon || decrementButtonIcon ? 'span' : 'AngleDownIcon'\" :class=\"[decrementIcon, decrementButtonIcon]\" v-bind=\"ptm('decrementIcon')\" data-pc-section=\"decrementicon\" />\n                    </slot>\n                </button>\n            </slot>\n        </span>\n        <slot name=\"incrementbutton\" :listeners=\"upButtonListeners\">\n            <button\n                v-if=\"showButtons && buttonLayout !== 'stacked'\"\n                :class=\"[cx('incrementButton'), incrementButtonClass]\"\n                v-on=\"upButtonListeners\"\n                :disabled=\"disabled\"\n                :tabindex=\"-1\"\n                aria-hidden=\"true\"\n                type=\"button\"\n                v-bind=\"ptm('incrementButton')\"\n                :data-p=\"dataP\"\n            >\n                <slot :name=\"$slots.incrementicon ? 'incrementicon' : 'incrementbuttonicon'\">\n                    <component :is=\"incrementIcon || incrementButtonIcon ? 'span' : 'AngleUpIcon'\" :class=\"[incrementIcon, incrementButtonIcon]\" v-bind=\"ptm('incrementIcon')\" data-pc-section=\"incrementicon\" />\n                </slot>\n            </button>\n        </slot>\n        <slot name=\"decrementbutton\" :listeners=\"downButtonListeners\">\n            <button\n                v-if=\"showButtons && buttonLayout !== 'stacked'\"\n                :class=\"[cx('decrementButton'), decrementButtonClass]\"\n                v-on=\"downButtonListeners\"\n                :disabled=\"disabled\"\n                :tabindex=\"-1\"\n                aria-hidden=\"true\"\n                type=\"button\"\n                v-bind=\"ptm('decrementButton')\"\n                :data-p=\"dataP\"\n            >\n                <slot :name=\"$slots.decrementicon ? 'decrementicon' : 'decrementbuttonicon'\">\n                    <component :is=\"decrementIcon || decrementButtonIcon ? 'span' : 'AngleDownIcon'\" :class=\"[decrementIcon, decrementButtonIcon]\" v-bind=\"ptm('decrementIcon')\" data-pc-section=\"decrementicon\" />\n                </slot>\n            </button>\n        </slot>\n        <!-- TODO: decrementButton* and incrementButton* are deprecated since v4.0-->\n    </span>\n</template>\n\n<script>\nimport { cn } from '@primeuix/utils';\nimport { clearSelection, getSelection } from '@primeuix/utils/dom';\nimport { isNotEmpty } from '@primeuix/utils/object';\nimport AngleDownIcon from '@primevue/icons/angledown';\nimport AngleUpIcon from '@primevue/icons/angleup';\nimport InputText from 'primevue/inputtext';\nimport BaseInputNumber from './BaseInputNumber.vue';\n\nexport default {\n    name: 'InputNumber',\n    extends: BaseInputNumber,\n    inheritAttrs: false,\n    emits: ['input', 'focus', 'blur'],\n    inject: {\n        $pcFluid: { default: null }\n    },\n    numberFormat: null,\n    _numeral: null,\n    _decimal: null,\n    _group: null,\n    _minusSign: null,\n    _currency: null,\n    _suffix: null,\n    _prefix: null,\n    _index: null,\n    groupChar: '',\n    isSpecialChar: null,\n    prefixChar: null,\n    suffixChar: null,\n    timer: null,\n    data() {\n        return {\n            // @deprecated\n            d_modelValue: this.d_value,\n            focused: false\n        };\n    },\n    watch: {\n        d_value(newValue) {\n            // @deprecated since v4.2.0\n            this.d_modelValue = newValue;\n        },\n        locale(newValue, oldValue) {\n            this.updateConstructParser(newValue, oldValue);\n        },\n        localeMatcher(newValue, oldValue) {\n            this.updateConstructParser(newValue, oldValue);\n        },\n        mode(newValue, oldValue) {\n            this.updateConstructParser(newValue, oldValue);\n        },\n        currency(newValue, oldValue) {\n            this.updateConstructParser(newValue, oldValue);\n        },\n        currencyDisplay(newValue, oldValue) {\n            this.updateConstructParser(newValue, oldValue);\n        },\n        useGrouping(newValue, oldValue) {\n            this.updateConstructParser(newValue, oldValue);\n        },\n        minFractionDigits(newValue, oldValue) {\n            this.updateConstructParser(newValue, oldValue);\n        },\n        maxFractionDigits(newValue, oldValue) {\n            this.updateConstructParser(newValue, oldValue);\n        },\n        suffix(newValue, oldValue) {\n            this.updateConstructParser(newValue, oldValue);\n        },\n        prefix(newValue, oldValue) {\n            this.updateConstructParser(newValue, oldValue);\n        }\n    },\n    created() {\n        this.constructParser();\n    },\n    methods: {\n        getOptions() {\n            return {\n                localeMatcher: this.localeMatcher,\n                style: this.mode,\n                currency: this.currency,\n                currencyDisplay: this.currencyDisplay,\n                useGrouping: this.useGrouping,\n                minimumFractionDigits: this.minFractionDigits,\n                maximumFractionDigits: this.maxFractionDigits,\n                roundingMode: this.roundingMode\n            };\n        },\n        constructParser() {\n            this.numberFormat = new Intl.NumberFormat(this.locale, this.getOptions());\n            const numerals = [...new Intl.NumberFormat(this.locale, { useGrouping: false }).format(9876543210)].reverse();\n            const index = new Map(numerals.map((d, i) => [d, i]));\n\n            this._numeral = new RegExp(`[${numerals.join('')}]`, 'g');\n            this._group = this.getGroupingExpression();\n            this._minusSign = this.getMinusSignExpression();\n            this._currency = this.getCurrencyExpression();\n            this._decimal = this.getDecimalExpression();\n            this._suffix = this.getSuffixExpression();\n            this._prefix = this.getPrefixExpression();\n            this._index = (d) => index.get(d);\n        },\n        updateConstructParser(newValue, oldValue) {\n            if (newValue !== oldValue) {\n                this.constructParser();\n            }\n        },\n        escapeRegExp(text) {\n            return text.replace(/[-[\\]{}()*+?.,\\\\^$|#\\s]/g, '\\\\$&');\n        },\n        getDecimalExpression() {\n            const formatter = new Intl.NumberFormat(this.locale, { ...this.getOptions(), useGrouping: false });\n\n            return new RegExp(`[${formatter.format(1.1).replace(this._currency, '').trim().replace(this._numeral, '')}]`, 'g');\n        },\n        getGroupingExpression() {\n            const formatter = new Intl.NumberFormat(this.locale, { useGrouping: true });\n\n            this.groupChar = formatter.format(1000000).trim().replace(this._numeral, '').charAt(0);\n\n            return new RegExp(`[${this.groupChar}]`, 'g');\n        },\n        getMinusSignExpression() {\n            const formatter = new Intl.NumberFormat(this.locale, { useGrouping: false });\n\n            return new RegExp(`[${formatter.format(-1).trim().replace(this._numeral, '')}]`, 'g');\n        },\n        getCurrencyExpression() {\n            if (this.currency) {\n                const formatter = new Intl.NumberFormat(this.locale, { style: 'currency', currency: this.currency, currencyDisplay: this.currencyDisplay, minimumFractionDigits: 0, maximumFractionDigits: 0, roundingMode: this.roundingMode });\n\n                return new RegExp(`[${formatter.format(1).replace(/\\s/g, '').replace(this._numeral, '').replace(this._group, '')}]`, 'g');\n            }\n\n            return new RegExp(`[]`, 'g');\n        },\n        getPrefixExpression() {\n            if (this.prefix) {\n                this.prefixChar = this.prefix;\n            } else {\n                const formatter = new Intl.NumberFormat(this.locale, { style: this.mode, currency: this.currency, currencyDisplay: this.currencyDisplay });\n\n                this.prefixChar = formatter.format(1).split('1')[0];\n            }\n\n            return new RegExp(`${this.escapeRegExp(this.prefixChar || '')}`, 'g');\n        },\n        getSuffixExpression() {\n            if (this.suffix) {\n                this.suffixChar = this.suffix;\n            } else {\n                const formatter = new Intl.NumberFormat(this.locale, { style: this.mode, currency: this.currency, currencyDisplay: this.currencyDisplay, minimumFractionDigits: 0, maximumFractionDigits: 0, roundingMode: this.roundingMode });\n\n                this.suffixChar = formatter.format(1).split('1')[1];\n            }\n\n            return new RegExp(`${this.escapeRegExp(this.suffixChar || '')}`, 'g');\n        },\n        formatValue(value) {\n            if (value != null) {\n                if (value === '-') {\n                    // Minus sign\n                    return value;\n                }\n\n                if (this.format) {\n                    let formatter = new Intl.NumberFormat(this.locale, this.getOptions());\n                    let formattedValue = formatter.format(value);\n\n                    if (this.prefix) {\n                        formattedValue = this.prefix + formattedValue;\n                    }\n\n                    if (this.suffix) {\n                        formattedValue = formattedValue + this.suffix;\n                    }\n\n                    return formattedValue;\n                }\n\n                return value.toString();\n            }\n\n            return '';\n        },\n        parseValue(text) {\n            let filteredText = text\n                .replace(this._suffix, '')\n                .replace(this._prefix, '')\n                .trim()\n                .replace(/\\s/g, '')\n                .replace(this._currency, '')\n                .replace(this._group, '')\n                .replace(this._minusSign, '-')\n                .replace(this._decimal, '.')\n                .replace(this._numeral, this._index);\n\n            if (filteredText) {\n                if (filteredText === '-')\n                    // Minus sign\n                    return filteredText;\n\n                let parsedValue = +filteredText;\n\n                return isNaN(parsedValue) ? null : parsedValue;\n            }\n\n            return null;\n        },\n        repeat(event, interval, dir) {\n            if (this.readonly) {\n                return;\n            }\n\n            let i = interval || 500;\n\n            this.clearTimer();\n            this.timer = setTimeout(() => {\n                this.repeat(event, 40, dir);\n            }, i);\n\n            this.spin(event, dir);\n        },\n        addWithPrecision(base, increment, precision = 10) {\n            return Math.round((base + increment) * precision) / precision;\n        },\n        spin(event, dir) {\n            if (this.$refs.input) {\n                let step = this.step * dir;\n                let currentValue = this.parseValue(this.$refs.input.$el.value) || 0;\n                let newValue = this.validateValue(this.addWithPrecision(currentValue, step));\n\n                this.updateInput(newValue, null, 'spin');\n                this.updateModel(event, newValue);\n\n                this.handleOnInput(event, currentValue, newValue);\n            }\n        },\n        onUpButtonMouseDown(event) {\n            if (!this.disabled) {\n                this.$refs.input.$el.focus();\n                this.repeat(event, null, 1);\n                event.preventDefault();\n            }\n        },\n        onUpButtonMouseUp() {\n            if (!this.disabled) {\n                this.clearTimer();\n            }\n        },\n        onUpButtonMouseLeave() {\n            if (!this.disabled) {\n                this.clearTimer();\n            }\n        },\n        onUpButtonKeyUp() {\n            if (!this.disabled) {\n                this.clearTimer();\n            }\n        },\n        onUpButtonKeyDown(event) {\n            if (event.code === 'Space' || event.code === 'Enter' || event.code === 'NumpadEnter') {\n                this.repeat(event, null, 1);\n            }\n        },\n        onDownButtonMouseDown(event) {\n            if (!this.disabled) {\n                this.$refs.input.$el.focus();\n                this.repeat(event, null, -1);\n                event.preventDefault();\n            }\n        },\n        onDownButtonMouseUp() {\n            if (!this.disabled) {\n                this.clearTimer();\n            }\n        },\n        onDownButtonMouseLeave() {\n            if (!this.disabled) {\n                this.clearTimer();\n            }\n        },\n        onDownButtonKeyUp() {\n            if (!this.disabled) {\n                this.clearTimer();\n            }\n        },\n        onDownButtonKeyDown(event) {\n            if (event.code === 'Space' || event.code === 'Enter' || event.code === 'NumpadEnter') {\n                this.repeat(event, null, -1);\n            }\n        },\n        onUserInput() {\n            if (this.isSpecialChar) {\n                this.$refs.input.$el.value = this.lastValue;\n            }\n\n            this.isSpecialChar = false;\n        },\n        onInputKeyDown(event) {\n            if (this.readonly) {\n                return;\n            }\n\n            if (event.altKey || event.ctrlKey || event.metaKey) {\n                this.isSpecialChar = true;\n                this.lastValue = this.$refs.input.$el.value;\n\n                return;\n            }\n\n            this.lastValue = event.target.value;\n\n            let selectionStart = event.target.selectionStart;\n            let selectionEnd = event.target.selectionEnd;\n            let selectionRange = selectionEnd - selectionStart;\n            let inputValue = event.target.value;\n            let newValueStr = null;\n            const code = event.code || event.key;\n\n            switch (code) {\n                case 'ArrowUp':\n                    this.spin(event, 1);\n                    event.preventDefault();\n                    break;\n\n                case 'ArrowDown':\n                    this.spin(event, -1);\n                    event.preventDefault();\n                    break;\n\n                case 'ArrowLeft':\n                    if (selectionRange > 1) {\n                        const cursorPosition = this.isNumeralChar(inputValue.charAt(selectionStart)) ? selectionStart + 1 : selectionStart + 2;\n\n                        this.$refs.input.$el.setSelectionRange(cursorPosition, cursorPosition);\n                    } else if (!this.isNumeralChar(inputValue.charAt(selectionStart - 1))) {\n                        event.preventDefault();\n                    }\n\n                    break;\n\n                case 'ArrowRight':\n                    if (selectionRange > 1) {\n                        const cursorPosition = selectionEnd - 1;\n\n                        this.$refs.input.$el.setSelectionRange(cursorPosition, cursorPosition);\n                    } else if (!this.isNumeralChar(inputValue.charAt(selectionStart))) {\n                        event.preventDefault();\n                    }\n\n                    break;\n\n                case 'Tab':\n                case 'Enter':\n                case 'NumpadEnter':\n                    newValueStr = this.validateValue(this.parseValue(inputValue));\n                    this.$refs.input.$el.value = this.formatValue(newValueStr);\n                    this.$refs.input.$el.setAttribute('aria-valuenow', newValueStr);\n                    this.updateModel(event, newValueStr);\n                    break;\n\n                case 'Backspace': {\n                    event.preventDefault();\n\n                    if (selectionStart === selectionEnd) {\n                        if (selectionStart >= inputValue.length && this.suffixChar !== null) {\n                            selectionStart = inputValue.length - this.suffixChar.length;\n                            this.$refs.input.$el.setSelectionRange(selectionStart, selectionStart);\n                        }\n\n                        const deleteChar = inputValue.charAt(selectionStart - 1);\n                        const { decimalCharIndex, decimalCharIndexWithoutPrefix } = this.getDecimalCharIndexes(inputValue);\n\n                        if (this.isNumeralChar(deleteChar)) {\n                            const decimalLength = this.getDecimalLength(inputValue);\n\n                            if (this._group.test(deleteChar)) {\n                                this._group.lastIndex = 0;\n                                newValueStr = inputValue.slice(0, selectionStart - 2) + inputValue.slice(selectionStart - 1);\n                            } else if (this._decimal.test(deleteChar)) {\n                                this._decimal.lastIndex = 0;\n\n                                if (decimalLength) {\n                                    this.$refs.input.$el.setSelectionRange(selectionStart - 1, selectionStart - 1);\n                                } else {\n                                    newValueStr = inputValue.slice(0, selectionStart - 1) + inputValue.slice(selectionStart);\n                                }\n                            } else if (decimalCharIndex > 0 && selectionStart > decimalCharIndex) {\n                                const insertedText = this.isDecimalMode() && (this.minFractionDigits || 0) < decimalLength ? '' : '0';\n\n                                newValueStr = inputValue.slice(0, selectionStart - 1) + insertedText + inputValue.slice(selectionStart);\n                            } else if (decimalCharIndexWithoutPrefix === 1) {\n                                newValueStr = inputValue.slice(0, selectionStart - 1) + '0' + inputValue.slice(selectionStart);\n                                newValueStr = this.parseValue(newValueStr) > 0 ? newValueStr : '';\n                            } else {\n                                newValueStr = inputValue.slice(0, selectionStart - 1) + inputValue.slice(selectionStart);\n                            }\n                        }\n\n                        this.updateValue(event, newValueStr, null, 'delete-single');\n                    } else {\n                        newValueStr = this.deleteRange(inputValue, selectionStart, selectionEnd);\n                        this.updateValue(event, newValueStr, null, 'delete-range');\n                    }\n\n                    break;\n                }\n\n                case 'Delete':\n                    event.preventDefault();\n\n                    if (selectionStart === selectionEnd) {\n                        const deleteChar = inputValue.charAt(selectionStart);\n                        const { decimalCharIndex, decimalCharIndexWithoutPrefix } = this.getDecimalCharIndexes(inputValue);\n\n                        if (this.isNumeralChar(deleteChar)) {\n                            const decimalLength = this.getDecimalLength(inputValue);\n\n                            if (this._group.test(deleteChar)) {\n                                this._group.lastIndex = 0;\n                                newValueStr = inputValue.slice(0, selectionStart) + inputValue.slice(selectionStart + 2);\n                            } else if (this._decimal.test(deleteChar)) {\n                                this._decimal.lastIndex = 0;\n\n                                if (decimalLength) {\n                                    this.$refs.input.$el.setSelectionRange(selectionStart + 1, selectionStart + 1);\n                                } else {\n                                    newValueStr = inputValue.slice(0, selectionStart) + inputValue.slice(selectionStart + 1);\n                                }\n                            } else if (decimalCharIndex > 0 && selectionStart > decimalCharIndex) {\n                                const insertedText = this.isDecimalMode() && (this.minFractionDigits || 0) < decimalLength ? '' : '0';\n\n                                newValueStr = inputValue.slice(0, selectionStart) + insertedText + inputValue.slice(selectionStart + 1);\n                            } else if (decimalCharIndexWithoutPrefix === 1) {\n                                newValueStr = inputValue.slice(0, selectionStart) + '0' + inputValue.slice(selectionStart + 1);\n                                newValueStr = this.parseValue(newValueStr) > 0 ? newValueStr : '';\n                            } else {\n                                newValueStr = inputValue.slice(0, selectionStart) + inputValue.slice(selectionStart + 1);\n                            }\n                        }\n\n                        this.updateValue(event, newValueStr, null, 'delete-back-single');\n                    } else {\n                        newValueStr = this.deleteRange(inputValue, selectionStart, selectionEnd);\n                        this.updateValue(event, newValueStr, null, 'delete-range');\n                    }\n\n                    break;\n\n                case 'Home':\n                    event.preventDefault();\n\n                    if (isNotEmpty(this.min)) {\n                        this.updateModel(event, this.min);\n                    }\n\n                    break;\n\n                case 'End':\n                    event.preventDefault();\n\n                    if (isNotEmpty(this.max)) {\n                        this.updateModel(event, this.max);\n                    }\n\n                    break;\n\n                default:\n                    break;\n            }\n        },\n        onInputKeyPress(event) {\n            if (this.readonly) {\n                return;\n            }\n\n            let char = event.key;\n            let isDecimalSign = this.isDecimalSign(char);\n            const isMinusSign = this.isMinusSign(char);\n\n            if (event.code !== 'Enter') {\n                event.preventDefault();\n            }\n\n            if ((Number(char) >= 0 && Number(char) <= 9) || isMinusSign || isDecimalSign) {\n                this.insert(event, char, { isDecimalSign, isMinusSign });\n            }\n        },\n        onPaste(event) {\n            if (this.readonly) {\n                return;\n            }\n            \n            event.preventDefault();\n            let data = (event.clipboardData || window['clipboardData']).getData('Text');\n\n            if (data) {\n                let filteredData = this.parseValue(data);\n\n                if (filteredData != null) {\n                    this.insert(event, filteredData.toString());\n                }\n            }\n        },\n        allowMinusSign() {\n            return this.min === null || this.min < 0;\n        },\n        isMinusSign(char) {\n            if (this._minusSign.test(char) || char === '-') {\n                this._minusSign.lastIndex = 0;\n\n                return true;\n            }\n\n            return false;\n        },\n        isDecimalSign(char) {\n            if ((this.locale?.includes('fr') && ['.', ','].includes(char)) || this._decimal.test(char)) {\n                this._decimal.lastIndex = 0;\n\n                return true;\n            }\n\n            return false;\n        },\n        isDecimalMode() {\n            return this.mode === 'decimal';\n        },\n        getDecimalCharIndexes(val) {\n            let decimalCharIndex = val.search(this._decimal);\n\n            this._decimal.lastIndex = 0;\n\n            const filteredVal = val.replace(this._prefix, '').trim().replace(/\\s/g, '').replace(this._currency, '');\n            const decimalCharIndexWithoutPrefix = filteredVal.search(this._decimal);\n\n            this._decimal.lastIndex = 0;\n\n            return { decimalCharIndex, decimalCharIndexWithoutPrefix };\n        },\n        getCharIndexes(val) {\n            const decimalCharIndex = val.search(this._decimal);\n\n            this._decimal.lastIndex = 0;\n            const minusCharIndex = val.search(this._minusSign);\n\n            this._minusSign.lastIndex = 0;\n            const suffixCharIndex = val.search(this._suffix);\n\n            this._suffix.lastIndex = 0;\n            const currencyCharIndex = val.search(this._currency);\n\n            this._currency.lastIndex = 0;\n\n            return { decimalCharIndex, minusCharIndex, suffixCharIndex, currencyCharIndex };\n        },\n        insert(event, text, sign = { isDecimalSign: false, isMinusSign: false }) {\n            const minusCharIndexOnText = text.search(this._minusSign);\n\n            this._minusSign.lastIndex = 0;\n\n            if (!this.allowMinusSign() && minusCharIndexOnText !== -1) {\n                return;\n            }\n\n            const selectionStart = this.$refs.input.$el.selectionStart;\n            const selectionEnd = this.$refs.input.$el.selectionEnd;\n            let inputValue = this.$refs.input.$el.value.trim();\n            const { decimalCharIndex, minusCharIndex, suffixCharIndex, currencyCharIndex } = this.getCharIndexes(inputValue);\n            let newValueStr;\n\n            if (sign.isMinusSign) {\n                const isNewMinusSign = minusCharIndex === -1;\n\n                if (selectionStart === 0 || selectionStart === currencyCharIndex + 1) {\n                    newValueStr = inputValue;\n\n                    if (isNewMinusSign || selectionEnd !== 0) {\n                        newValueStr = this.insertText(inputValue, text, 0, selectionEnd);\n                    }\n\n                    this.updateValue(event, newValueStr, text, 'insert');\n                }\n            } else if (sign.isDecimalSign) {\n                if (decimalCharIndex > 0 && selectionStart === decimalCharIndex) {\n                    this.updateValue(event, inputValue, text, 'insert');\n                } else if (decimalCharIndex > selectionStart && decimalCharIndex < selectionEnd) {\n                    newValueStr = this.insertText(inputValue, text, selectionStart, selectionEnd);\n                    this.updateValue(event, newValueStr, text, 'insert');\n                } else if (decimalCharIndex === -1 && this.maxFractionDigits) {\n                    newValueStr = this.insertText(inputValue, text, selectionStart, selectionEnd);\n                    this.updateValue(event, newValueStr, text, 'insert');\n                }\n            } else {\n                const maxFractionDigits = this.numberFormat.resolvedOptions().maximumFractionDigits;\n                const operation = selectionStart !== selectionEnd ? 'range-insert' : 'insert';\n\n                if (decimalCharIndex > 0 && selectionStart > decimalCharIndex) {\n                    if (selectionStart + text.length - (decimalCharIndex + 1) <= maxFractionDigits) {\n                        const charIndex = currencyCharIndex >= selectionStart ? currencyCharIndex - 1 : suffixCharIndex >= selectionStart ? suffixCharIndex : inputValue.length;\n\n                        newValueStr = inputValue.slice(0, selectionStart) + text + inputValue.slice(selectionStart + text.length, charIndex) + inputValue.slice(charIndex);\n                        this.updateValue(event, newValueStr, text, operation);\n                    }\n                } else {\n                    newValueStr = this.insertText(inputValue, text, selectionStart, selectionEnd);\n                    this.updateValue(event, newValueStr, text, operation);\n                }\n            }\n        },\n        insertText(value, text, start, end) {\n            let textSplit = text === '.' ? text : text.split('.');\n\n            if (textSplit.length === 2) {\n                const decimalCharIndex = value.slice(start, end).search(this._decimal);\n\n                this._decimal.lastIndex = 0;\n\n                return decimalCharIndex > 0 ? value.slice(0, start) + this.formatValue(text) + value.slice(end) : this.formatValue(text) || value;\n            } else if (end - start === value.length) {\n                return this.formatValue(text);\n            } else if (start === 0) {\n                return text + value.slice(end);\n            } else if (end === value.length) {\n                return value.slice(0, start) + text;\n            } else {\n                return value.slice(0, start) + text + value.slice(end);\n            }\n        },\n        deleteRange(value, start, end) {\n            let newValueStr;\n\n            if (end - start === value.length) newValueStr = '';\n            else if (start === 0) newValueStr = value.slice(end);\n            else if (end === value.length) newValueStr = value.slice(0, start);\n            else newValueStr = value.slice(0, start) + value.slice(end);\n\n            return newValueStr;\n        },\n        initCursor() {\n            let selectionStart = this.$refs.input.$el.selectionStart;\n            let inputValue = this.$refs.input.$el.value;\n            let valueLength = inputValue.length;\n            let index = null;\n\n            // remove prefix\n            let prefixLength = (this.prefixChar || '').length;\n\n            inputValue = inputValue.replace(this._prefix, '');\n            selectionStart = selectionStart - prefixLength;\n\n            let char = inputValue.charAt(selectionStart);\n\n            if (this.isNumeralChar(char)) {\n                return selectionStart + prefixLength;\n            }\n\n            //left\n            let i = selectionStart - 1;\n\n            while (i >= 0) {\n                char = inputValue.charAt(i);\n\n                if (this.isNumeralChar(char)) {\n                    index = i + prefixLength;\n                    break;\n                } else {\n                    i--;\n                }\n            }\n\n            if (index !== null) {\n                this.$refs.input.$el.setSelectionRange(index + 1, index + 1);\n            } else {\n                i = selectionStart;\n\n                while (i < valueLength) {\n                    char = inputValue.charAt(i);\n\n                    if (this.isNumeralChar(char)) {\n                        index = i + prefixLength;\n                        break;\n                    } else {\n                        i++;\n                    }\n                }\n\n                if (index !== null) {\n                    this.$refs.input.$el.setSelectionRange(index, index);\n                }\n            }\n\n            return index || 0;\n        },\n        onInputClick() {\n            const currentValue = this.$refs.input.$el.value;\n\n            if (!this.readonly && currentValue !== getSelection()) {\n                this.initCursor();\n            }\n        },\n        isNumeralChar(char) {\n            if (char.length === 1 && (this._numeral.test(char) || this._decimal.test(char) || this._group.test(char) || this._minusSign.test(char))) {\n                this.resetRegex();\n\n                return true;\n            }\n\n            return false;\n        },\n        resetRegex() {\n            this._numeral.lastIndex = 0;\n            this._decimal.lastIndex = 0;\n            this._group.lastIndex = 0;\n            this._minusSign.lastIndex = 0;\n        },\n        updateValue(event, valueStr, insertedValueStr, operation) {\n            let currentValue = this.$refs.input.$el.value;\n            let newValue = null;\n\n            if (valueStr != null) {\n                newValue = this.parseValue(valueStr);\n                newValue = !newValue && !this.allowEmpty ? 0 : newValue;\n                this.updateInput(newValue, insertedValueStr, operation, valueStr);\n\n                this.handleOnInput(event, currentValue, newValue);\n            }\n        },\n        handleOnInput(event, currentValue, newValue) {\n            if (this.isValueChanged(currentValue, newValue)) {\n                this.$emit('input', { originalEvent: event, value: newValue, formattedValue: currentValue });\n                this.formField.onInput?.({ originalEvent: event, value: newValue });\n            }\n        },\n        isValueChanged(currentValue, newValue) {\n            if (newValue === null && currentValue !== null) {\n                return true;\n            }\n\n            if (newValue != null) {\n                let parsedCurrentValue = typeof currentValue === 'string' ? this.parseValue(currentValue) : currentValue;\n\n                return newValue !== parsedCurrentValue;\n            }\n\n            return false;\n        },\n        validateValue(value) {\n            if (value === '-' || value == null) {\n                return null;\n            }\n\n            if (this.min != null && value < this.min) {\n                return this.min;\n            }\n\n            if (this.max != null && value > this.max) {\n                return this.max;\n            }\n\n            return value;\n        },\n        updateInput(value, insertedValueStr, operation, valueStr) {\n            insertedValueStr = insertedValueStr || '';\n\n            let inputValue = this.$refs.input.$el.value;\n            let newValue = this.formatValue(value);\n            let currentLength = inputValue.length;\n\n            if (newValue !== valueStr) {\n                newValue = this.concatValues(newValue, valueStr);\n            }\n\n            if (currentLength === 0) {\n                this.$refs.input.$el.value = newValue;\n                this.$refs.input.$el.setSelectionRange(0, 0);\n                const index = this.initCursor();\n                const selectionEnd = index + insertedValueStr.length;\n\n                this.$refs.input.$el.setSelectionRange(selectionEnd, selectionEnd);\n            } else {\n                let selectionStart = this.$refs.input.$el.selectionStart;\n                let selectionEnd = this.$refs.input.$el.selectionEnd;\n\n                this.$refs.input.$el.value = newValue;\n                let newLength = newValue.length;\n\n                if (operation === 'range-insert') {\n                    const startValue = this.parseValue((inputValue || '').slice(0, selectionStart));\n                    const startValueStr = startValue !== null ? startValue.toString() : '';\n                    const startExpr = startValueStr.split('').join(`(${this.groupChar})?`);\n                    const sRegex = new RegExp(startExpr, 'g');\n\n                    sRegex.test(newValue);\n\n                    const tExpr = insertedValueStr.split('').join(`(${this.groupChar})?`);\n                    const tRegex = new RegExp(tExpr, 'g');\n\n                    tRegex.test(newValue.slice(sRegex.lastIndex));\n\n                    selectionEnd = sRegex.lastIndex + tRegex.lastIndex;\n                    this.$refs.input.$el.setSelectionRange(selectionEnd, selectionEnd);\n                } else if (newLength === currentLength) {\n                    if (operation === 'insert' || operation === 'delete-back-single') {\n                        this.$refs.input.$el.setSelectionRange(selectionEnd + 1, selectionEnd + 1);\n                    } else if (operation === 'delete-single') {\n                        this.$refs.input.$el.setSelectionRange(selectionEnd - 1, selectionEnd - 1);\n                    } else if (operation === 'delete-range' || operation === 'spin') {\n                        this.$refs.input.$el.setSelectionRange(selectionEnd, selectionEnd);\n                    }\n                } else if (operation === 'delete-back-single') {\n                    let prevChar = inputValue.charAt(selectionEnd - 1);\n                    let nextChar = inputValue.charAt(selectionEnd);\n                    let diff = currentLength - newLength;\n                    let isGroupChar = this._group.test(nextChar);\n\n                    if (isGroupChar && diff === 1) {\n                        selectionEnd += 1;\n                    } else if (!isGroupChar && this.isNumeralChar(prevChar)) {\n                        selectionEnd += -1 * diff + 1;\n                    }\n\n                    this._group.lastIndex = 0;\n                    this.$refs.input.$el.setSelectionRange(selectionEnd, selectionEnd);\n                } else if (inputValue === '-' && operation === 'insert') {\n                    this.$refs.input.$el.setSelectionRange(0, 0);\n                    const index = this.initCursor();\n                    const selectionEnd = index + insertedValueStr.length + 1;\n\n                    this.$refs.input.$el.setSelectionRange(selectionEnd, selectionEnd);\n                } else {\n                    selectionEnd = selectionEnd + (newLength - currentLength);\n                    this.$refs.input.$el.setSelectionRange(selectionEnd, selectionEnd);\n                }\n            }\n\n            this.$refs.input.$el.setAttribute('aria-valuenow', value);\n        },\n        concatValues(val1, val2) {\n            if (val1 && val2) {\n                let decimalCharIndex = val2.search(this._decimal);\n\n                this._decimal.lastIndex = 0;\n\n                if (this.suffixChar) {\n                    return decimalCharIndex !== -1 ? val1.replace(this.suffixChar, '').split(this._decimal)[0] + val2.replace(this.suffixChar, '').slice(decimalCharIndex) + this.suffixChar : val1;\n                } else {\n                    return decimalCharIndex !== -1 ? val1.split(this._decimal)[0] + val2.slice(decimalCharIndex) : val1;\n                }\n            }\n\n            return val1;\n        },\n        getDecimalLength(value) {\n            if (value) {\n                const valueSplit = value.split(this._decimal);\n\n                if (valueSplit.length === 2) {\n                    return valueSplit[1].replace(this._suffix, '').trim().replace(/\\s/g, '').replace(this._currency, '').length;\n                }\n            }\n\n            return 0;\n        },\n        updateModel(event, value) {\n            this.writeValue(value, event);\n        },\n        onInputFocus(event) {\n            this.focused = true;\n\n            if (!this.disabled && !this.readonly && this.$refs.input.$el.value !== getSelection() && this.highlightOnFocus) {\n                event.target.select();\n            }\n\n            this.$emit('focus', event);\n        },\n        onInputBlur(event) {\n            this.focused = false;\n\n            let input = event.target;\n            let newValue = this.validateValue(this.parseValue(input.value));\n\n            this.$emit('blur', { originalEvent: event, value: input.value });\n            this.formField.onBlur?.(event);\n\n            input.value = this.formatValue(newValue);\n            input.setAttribute('aria-valuenow', newValue);\n            this.updateModel(event, newValue);\n\n            if (!this.disabled && !this.readonly && this.highlightOnFocus) {\n                clearSelection();\n            }\n        },\n        clearTimer() {\n            if (this.timer) {\n                clearTimeout(this.timer);\n            }\n        },\n        maxBoundry() {\n            return this.d_value >= this.max;\n        },\n        minBoundry() {\n            return this.d_value <= this.min;\n        }\n    },\n    computed: {\n        upButtonListeners() {\n            return {\n                mousedown: (event) => this.onUpButtonMouseDown(event),\n                mouseup: (event) => this.onUpButtonMouseUp(event),\n                mouseleave: (event) => this.onUpButtonMouseLeave(event),\n                keydown: (event) => this.onUpButtonKeyDown(event),\n                keyup: (event) => this.onUpButtonKeyUp(event)\n            };\n        },\n        downButtonListeners() {\n            return {\n                mousedown: (event) => this.onDownButtonMouseDown(event),\n                mouseup: (event) => this.onDownButtonMouseUp(event),\n                mouseleave: (event) => this.onDownButtonMouseLeave(event),\n                keydown: (event) => this.onDownButtonKeyDown(event),\n                keyup: (event) => this.onDownButtonKeyUp(event)\n            };\n        },\n        formattedValue() {\n            const val = !this.d_value && !this.allowEmpty ? 0 : this.d_value;\n\n            return this.formatValue(val);\n        },\n        getFormatter() {\n            return this.numberFormat;\n        },\n        dataP() {\n            return cn({\n                invalid: this.$invalid,\n                fluid: this.$fluid,\n                filled: this.$variant === 'filled',\n                [this.size]: this.size,\n                [this.buttonLayout]: this.showButtons && this.buttonLayout\n            });\n        }\n    },\n    components: {\n        InputText,\n        AngleUpIcon,\n        AngleDownIcon\n    }\n};\n</script>\n"],"names":["name","BaseInput","props","format","type","Boolean","showButtons","buttonLayout","String","incrementButtonClass","decrementButtonClass","incrementButtonIcon","undefined","incrementIcon","decrementButtonIcon","decrementIcon","locale","localeMatcher","mode","prefix","suffix","currency","currencyDisplay","useGrouping","minFractionDigits","Number","maxFractionDigits","roundingMode","validator","value","includes","min","max","step","allowEmpty","highlightOnFocus","readonly","placeholder","inputId","inputClass","Object","inputStyle","ariaLabelledby","ariaLabel","required","style","InputNumberStyle","provide","$pcInputNumber","$parentInstance","BaseInputNumber","inheritAttrs","emits","inject","$pcFluid","numberFormat","_numeral","_decimal","_group","_minusSign","_currency","_suffix","_prefix","_index","groupChar","isSpecialChar","prefixChar","suffixChar","timer","data","d_modelValue","d_value","focused","watch","newValue","oldValue","updateConstructParser","created","constructParser","methods","getOptions","minimumFractionDigits","maximumFractionDigits","Intl","NumberFormat","numerals","_toConsumableArray","reverse","index","Map","map","d","i","RegExp","concat","join","getGroupingExpression","getMinusSignExpression","getCurrencyExpression","getDecimalExpression","getSuffixExpression","getPrefixExpression","get","escapeRegExp","text","replace","formatter","_objectSpread","trim","charAt","split","formatValue","formattedValue","toString","parseValue","filteredText","parsedValue","isNaN","repeat","event","interval","dir","_this","clearTimer","setTimeout","spin","addWithPrecision","base","increment","precision","Math","round","$refs","input","currentValue","$el","validateValue","updateInput","updateModel","handleOnInput","onUpButtonMouseDown","disabled","focus","preventDefault","onUpButtonMouseUp","onUpButtonMouseLeave","onUpButtonKeyUp","onUpButtonKeyDown","code","onDownButtonMouseDown","onDownButtonMouseUp","onDownButtonMouseLeave","onDownButtonKeyUp","onDownButtonKeyDown","onUserInput","lastValue","onInputKeyDown","altKey","ctrlKey","metaKey","target","selectionStart","selectionEnd","selectionRange","inputValue","newValueStr","key","cursorPosition","isNumeralChar","setSelectionRange","setAttribute","length","deleteChar","_this$getDecimalCharI","getDecimalCharIndexes","decimalCharIndex","decimalCharIndexWithoutPrefix","decimalLength","getDecimalLength","test","lastIndex","slice","insertedText","isDecimalMode","updateValue","deleteRange","_this$getDecimalCharI2","isNotEmpty","onInputKeyPress","char","isDecimalSign","isMinusSign","insert","onPaste","clipboardData","window","getData","filteredData","allowMinusSign","_this$locale","val","search","filteredVal","getCharIndexes","minusCharIndex","suffixCharIndex","currencyCharIndex","sign","arguments","minusCharIndexOnText","_this$getCharIndexes","isNewMinusSign","insertText","resolvedOptions","operation","charIndex","start","end","textSplit","initCursor","valueLength","prefixLength","onInputClick","getSelection","resetRegex","valueStr","insertedValueStr","isValueChanged","_this$formField$onInp","_this$formField","$emit","originalEvent","formField","onInput","call","parsedCurrentValue","currentLength","concatValues","newLength","startValue","startValueStr","startExpr","sRegex","tExpr","tRegex","prevChar","nextChar","diff","isGroupChar","val1","val2","valueSplit","writeValue","onInputFocus","select","onInputBlur","_this$formField$onBlu","_this$formField2","onBlur","clearSelection","clearTimeout","maxBoundry","minBoundry","computed","upButtonListeners","_this2","mousedown","mouseup","mouseleave","keydown","keyup","downButtonListeners","_this3","getFormatter","dataP","cn","_defineProperty","invalid","$invalid","fluid","$fluid","filled","$variant","size","components","InputText","AngleUpIcon","AngleDownIcon","_openBlock","_createElementBlock","_mergeProps","_ctx","cx","ptmi","$options","_createVNode","_component_InputText","ref","id","$formName","role","_normalizeClass","defaultValue","inputmode","variant","onKeydown","onKeypress","onClick","onFocus","pt","ptm","unstyled","_renderSlot","$slots","listeners","_createElementVNode","_toHandlers","tabindex","incrementicon","_createBlock","_resolveDynamicComponent","decrementicon"],"mappings":"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"}